<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Interview Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .typing-animation {
            border-right: 2px solid #667eea;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #667eea; }
        }
        
        .ai-avatar {
            background: radial-gradient(circle, #667eea, #764ba2);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .progress-bar {
            transition: width 0.3s ease;
        }
        
        .notification {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-2xl font-bold gradient-bg bg-clip-text text-transparent">AI Interview Pro</h1>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#" class="nav-link text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Home</a>
                        <a href="#" class="nav-link text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Jobs</a>
                        <a href="#" class="nav-link text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">My Applications</a>
                        <a href="#" class="nav-link text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Dashboard</a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="loginBtn" class="text-indigo-600 hover:text-indigo-800 font-medium">Login</button>
                    <button id="signupBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">Sign Up</button>
                    <div id="userMenu" class="hidden flex items-center space-x-2">
                        <span id="userName" class="text-gray-700 font-medium"></span>
                        <button id="logoutBtn" class="text-red-600 hover:text-red-800 font-medium">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div id="mainContent" class="min-h-screen">
        <!-- Landing Page -->
        <div id="landingPage" class="fade-in">
            <!-- Hero Section -->
            <section class="gradient-bg text-white py-20">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h1 class="text-5xl md:text-6xl font-bold mb-6">
                        Master Your Next Interview with AI
                    </h1>
                    <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">
                        Practice with our AI interviewer, get personalized feedback, and land your dream job
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button id="getStartedBtn" class="bg-white text-indigo-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors pulse-animation">
                            Get Started Free
                        </button>
                        <button id="watchDemoBtn" class="border-2 border-white text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-white hover:text-indigo-600 transition-colors">
                            Watch Demo
                        </button>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="py-20 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-bold text-center text-gray-900 mb-16">Why Choose AI Interview Pro?</h2>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="text-center card-hover bg-gray-50 p-8 rounded-xl">
                            <div class="w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <span class="text-2xl">ü§ñ</span>
                            </div>
                            <h3 class="text-xl font-bold mb-4">AI-Powered Interviews</h3>
                            <p class="text-gray-600">Practice with our advanced AI that adapts to your resume and job requirements</p>
                        </div>
                        <div class="text-center card-hover bg-gray-50 p-8 rounded-xl">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <span class="text-2xl">üìä</span>
                            </div>
                            <h3 class="text-xl font-bold mb-4">Detailed Feedback</h3>
                            <p class="text-gray-600">Get comprehensive analysis of your performance with actionable insights</p>
                        </div>
                        <div class="text-center card-hover bg-gray-50 p-8 rounded-xl">
                            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <span class="text-2xl">üì±</span>
                            </div>
                            <h3 class="text-xl font-bold mb-4">WhatsApp Updates</h3>
                            <p class="text-gray-600">Stay informed with real-time notifications on your mobile device</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Authentication Pages -->
        <div id="authPage" class="hidden min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
            <div class="max-w-md w-full space-y-8">
                <div id="loginForm" class="bg-white p-8 rounded-xl shadow-lg">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-gray-900">Sign In</h2>
                        <p class="mt-2 text-gray-600">Welcome back to AI Interview Pro</p>
                    </div>
                    <form class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input type="email" id="loginEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                            <input type="password" id="loginPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors font-medium">
                            Sign In
                        </button>
                    </form>
                    <p class="mt-4 text-center text-sm text-gray-600">
                        Don't have an account? 
                        <button id="switchToSignup" class="text-indigo-600 hover:text-indigo-800 font-medium">Sign up</button>
                    </p>
                </div>

                <div id="signupForm" class="hidden bg-white p-8 rounded-xl shadow-lg">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-gray-900">Create Account</h2>
                        <p class="mt-2 text-gray-600">Join AI Interview Pro today</p>
                    </div>
                    <form class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                                <input type="text" id="signupFirstName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                                <input type="text" id="signupLastName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input type="email" id="signupEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">WhatsApp Number</label>
                            <input type="tel" id="signupPhone" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="+1 (555) 123-4567" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                            <input type="password" id="signupPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                            <input type="password" id="signupConfirmPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors font-medium">
                            Create Account
                        </button>
                    </form>
                    <p class="mt-4 text-center text-sm text-gray-600">
                        Already have an account? 
                        <button id="switchToLogin" class="text-indigo-600 hover:text-indigo-800 font-medium">Sign in</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- Jobs Portal -->
        <div id="jobsPage" class="hidden py-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900">Available Jobs</h1>
                    <div class="flex space-x-4">
                        <input type="text" id="jobSearch" placeholder="Search jobs..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <select id="jobFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Categories</option>
                            <option value="technology">Technology</option>
                            <option value="marketing">Marketing</option>
                            <option value="finance">Finance</option>
                            <option value="design">Design</option>
                        </select>
                    </div>
                </div>

                <div id="jobsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Job cards will be populated here -->
                </div>
            </div>
        </div>

        <!-- Job Details Modal -->
        <div id="jobDetailsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 id="jobTitle" class="text-2xl font-bold text-gray-900 mb-2"></h2>
                            <p id="jobCompany" class="text-lg text-gray-600 mb-1"></p>
                            <p id="jobLocation" class="text-gray-500"></p>
                        </div>
                        <button id="closeJobModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2">Salary Range</h3>
                            <p id="jobSalary" class="text-indigo-600 font-bold"></p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2">Experience</h3>
                            <p id="jobExperience" class="text-gray-700"></p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2">Job Type</h3>
                            <p id="jobType" class="text-gray-700"></p>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Job Description</h3>
                        <div id="jobDescription" class="text-gray-700 leading-relaxed"></div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Required Skills</h3>
                        <div id="jobSkills" class="flex flex-wrap gap-2"></div>
                    </div>

                    <div class="flex justify-end space-x-4">
                        <button id="saveJobBtn" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                            Save Job
                        </button>
                        <button id="applyJobBtn" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Application Page -->
        <div id="applicationPage" class="hidden py-8">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-8">Apply for Position</h1>
                    
                    <div id="selectedJobInfo" class="bg-gray-50 p-6 rounded-lg mb-8">
                        <!-- Selected job info will be populated here -->
                    </div>

                    <form id="applicationForm" class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                                <input type="text" id="appFirstName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                                <input type="text" id="appLastName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input type="email" id="appEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">WhatsApp Number</label>
                            <input type="tel" id="appPhone" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Upload Resume</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-indigo-400 transition-colors">
                                <input type="file" id="resumeUpload" accept=".pdf,.doc,.docx,.txt" class="hidden">
                                <div id="uploadArea" class="cursor-pointer">
                                    <div class="text-4xl text-gray-400 mb-2">üìÑ</div>
                                    <p class="text-gray-600 mb-2">Click to upload your resume</p>
                                    <p class="text-sm text-gray-500">PDF, DOC, DOCX, or TXT (Max 5MB)</p>
                                </div>
                                <div id="uploadedFile" class="hidden">
                                    <div class="text-4xl text-green-500 mb-2">‚úÖ</div>
                                    <p id="fileName" class="text-gray-700 font-medium"></p>
                                    <button type="button" id="removeFile" class="text-red-600 hover:text-red-800 text-sm mt-2">Remove</button>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Cover Letter (Optional)</label>
                            <textarea id="coverLetter" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Tell us why you're perfect for this role..."></textarea>
                        </div>

                        <div class="flex justify-between">
                            <button type="button" id="backToJobs" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                Back to Jobs
                            </button>
                            <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
                                Submit Application
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Interview Scheduling Page -->
        <div id="schedulePage" class="hidden py-8">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-8">Schedule Your AI Interview</h1>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Interview Details</h2>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Date</label>
                                    <input type="date" id="interviewDate" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Time</label>
                                    <select id="interviewTime" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                                        <option value="">Select time</option>
                                        <option value="09:00">9:00 AM</option>
                                        <option value="10:00">10:00 AM</option>
                                        <option value="11:00">11:00 AM</option>
                                        <option value="14:00">2:00 PM</option>
                                        <option value="15:00">3:00 PM</option>
                                        <option value="16:00">4:00 PM</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Number of Questions</label>
                                    <select id="questionCount" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                                        <option value="5">5 Questions (15 mins)</option>
                                        <option value="10" selected>10 Questions (30 mins)</option>
                                        <option value="15">15 Questions (45 mins)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Interview Focus</label>
                                    <select id="interviewFocus" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                                        <option value="general">General Interview</option>
                                        <option value="technical">Technical Skills</option>
                                        <option value="behavioral">Behavioral Questions</option>
                                        <option value="mixed">Mixed (Recommended)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h2 class="text-xl font-semibold text-gray-900 mb-4">What to Expect</h2>
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <ul class="space-y-3 text-gray-700">
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">‚úì</span>
                                        AI interviewer will ask questions based on your resume and job requirements
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">‚úì</span>
                                        Camera and microphone access required for realistic experience
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">‚úì</span>
                                        Detailed feedback provided after completion
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">‚úì</span>
                                        WhatsApp reminder sent 30 minutes before interview
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="mt-6">
                                <h3 class="font-semibold text-gray-900 mb-2">Technical Requirements</h3>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ Stable internet connection</li>
                                    <li>‚Ä¢ Working camera and microphone</li>
                                    <li>‚Ä¢ Chrome, Firefox, or Safari browser</li>
                                    <li>‚Ä¢ Quiet environment recommended</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 flex justify-between">
                        <button id="backToApplication" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                            Back
                        </button>
                        <button id="scheduleInterview" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
                            Schedule Interview
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Interview Page -->
        <div id="interviewPage" class="hidden min-h-screen bg-gray-900 text-white">
            <div class="max-w-6xl mx-auto px-4 py-8">
                <!-- Interview Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-2xl font-bold">AI Interview Session</h1>
                        <p class="text-gray-400">Stay calm and answer naturally</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="text-right">
                            <div class="text-sm text-gray-400">Question</div>
                            <div id="questionProgress" class="text-xl font-bold">1 / 10</div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm text-gray-400">Time Remaining</div>
                            <div id="timeRemaining" class="text-xl font-bold text-green-400">02:00</div>
                        </div>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="w-full bg-gray-700 rounded-full h-2 mb-8">
                    <div id="progressBar" class="progress-bar bg-indigo-600 h-2 rounded-full" style="width: 10%"></div>
                </div>

                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- AI Avatar Section -->
                    <div class="bg-gray-800 rounded-xl p-6">
                        <div class="text-center mb-6">
                            <div class="ai-avatar w-32 h-32 rounded-full mx-auto mb-4 flex items-center justify-center">
                                <span class="text-4xl">ü§ñ</span>
                            </div>
                            <h2 class="text-xl font-semibold">AI Interviewer</h2>
                            <p class="text-gray-400">Sarah - Senior HR Manager</p>
                        </div>
                        
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <div class="text-sm text-gray-400 mb-2">Current Question:</div>
                            <div id="currentQuestion" class="text-lg">
                                Tell me about yourself and why you're interested in this position.
                            </div>
                        </div>
                        
                        <div class="flex justify-center space-x-4 mb-4">
                            <button id="startRecording" class="bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg font-medium transition-colors">
                                üé§ Start Answer
                            </button>
                            <button id="stopRecording" class="hidden bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg font-medium transition-colors">
                                ‚èπÔ∏è Stop Answer
                            </button>
                            <button id="nextQuestion" class="hidden bg-indigo-600 hover:bg-indigo-700 px-6 py-3 rounded-lg font-medium transition-colors">
                                Next Question ‚Üí
                            </button>
                        </div>
                        <div class="mt-2">
                            <label for="textAnswer" class="block text-sm font-medium text-gray-300 mb-1">Or type your answer:</label>
                            <textarea id="textAnswer" rows="3" class="w-full rounded-lg bg-gray-700 text-white p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Type your answer here..."></textarea>
                        </div>
                    </div>

                    <!-- User Video Section -->
                    <div class="bg-gray-800 rounded-xl p-6">
                        <div class="text-center mb-4">
                            <h3 class="text-lg font-semibold">Your Video</h3>
                            <p class="text-gray-400 text-sm">Make sure you're clearly visible</p>
                        </div>
                        
                        <div class="relative bg-gray-700 rounded-lg overflow-hidden" style="aspect-ratio: 4/3;">
                            <video id="userVideo" class="w-full h-full object-cover" autoplay muted></video>
                            <div id="recordingIndicator" class="hidden absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse">
                                ‚óè Recording
                            </div>
                        </div>
                        
                        <div class="mt-4 text-center">
                            <div id="recordingStatus" class="text-gray-400 text-sm">
                                Click "Start Answer" when ready to respond
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interview Controls -->
                <div class="mt-8 text-center">
                    <button id="endInterview" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                        End Interview
                    </button>
                </div>
            </div>
        </div>

        <!-- Results/Feedback Page -->
        <div id="resultsPage" class="hidden py-8">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Interview Complete! üéâ</h1>
                    <p class="text-xl text-gray-600">Here's your detailed performance analysis</p>
                </div>

                <!-- Overall Score -->
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <div class="text-center">
                        <div class="text-6xl font-bold text-indigo-600 mb-2" id="overallScore">85</div>
                        <div class="text-xl text-gray-600 mb-4">Overall Interview Score</div>
                        <div class="w-full bg-gray-200 rounded-full h-4 mb-4">
                            <div class="bg-indigo-600 h-4 rounded-full" style="width: 85%"></div>
                        </div>
                        <p class="text-gray-700">Great job! You demonstrated strong communication skills and relevant experience.</p>
                    </div>
                </div>

                <!-- Detailed Analysis -->
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <!-- Strengths -->
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h2 class="text-2xl font-bold text-green-600 mb-4">üí™ Strengths</h2>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="text-green-500 mr-2">‚úì</span>
                                <div>
                                    <div class="font-medium">Clear Communication</div>
                                    <div class="text-gray-600 text-sm">You spoke clearly and maintained good eye contact</div>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-500 mr-2">‚úì</span>
                                <div>
                                    <div class="font-medium">Relevant Experience</div>
                                    <div class="text-gray-600 text-sm">Your examples aligned well with job requirements</div>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-500 mr-2">‚úì</span>
                                <div>
                                    <div class="font-medium">Professional Demeanor</div>
                                    <div class="text-gray-600 text-sm">Maintained professionalism throughout</div>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- Areas for Improvement -->
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h2 class="text-2xl font-bold text-orange-600 mb-4">üéØ Areas for Improvement</h2>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="text-orange-500 mr-2">!</span>
                                <div>
                                    <div class="font-medium">Answer Structure</div>
                                    <div class="text-gray-600 text-sm">Try using the STAR method for behavioral questions</div>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-orange-500 mr-2">!</span>
                                <div>
                                    <div class="font-medium">Technical Details</div>
                                    <div class="text-gray-600 text-sm">Provide more specific examples of your technical skills</div>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-orange-500 mr-2">!</span>
                                <div>
                                    <div class="font-medium">Question Preparation</div>
                                    <div class="text-gray-600 text-sm">Prepare thoughtful questions about the company</div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Performance Metrics -->
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">üìä Performance Breakdown</h2>
                    <div class="grid md:grid-cols-4 gap-6">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-blue-600 mb-2">88%</div>
                            <div class="text-gray-600">Communication</div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-blue-600 h-2 rounded-full" style="width: 88%"></div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-green-600 mb-2">92%</div>
                            <div class="text-gray-600">Confidence</div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-green-600 h-2 rounded-full" style="width: 92%"></div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-purple-600 mb-2">78%</div>
                            <div class="text-gray-600">Technical Knowledge</div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-purple-600 h-2 rounded-full" style="width: 78%"></div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-indigo-600 mb-2">85%</div>
                            <div class="text-gray-600">Problem Solving</div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-indigo-600 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Items -->
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">üöÄ Recommended Next Steps</h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h3 class="font-semibold text-gray-900 mb-2">Practice More Interviews</h3>
                            <p class="text-gray-600 text-sm mb-3">Continue practicing with our AI interviewer to improve your skills</p>
                            <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-indigo-700 transition-colors">
                                Schedule Another Interview
                            </button>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h3 class="font-semibold text-gray-900 mb-2">Apply to More Jobs</h3>
                            <p class="text-gray-600 text-sm mb-3">Browse our job portal for positions matching your skills</p>
                            <button class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors">
                                Browse Jobs
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Share Results -->
                <div class="text-center">
                    <button id="downloadReport" class="bg-gray-800 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-900 transition-colors mr-4">
                        üìÑ Download Report
                    </button>
                    <button id="shareResults" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                        üì± Share via WhatsApp
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification" class="notification fixed top-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm z-50">
        <div class="flex items-start">
            <div id="notificationIcon" class="flex-shrink-0 mr-3 text-2xl"></div>
            <div class="flex-1">
                <div id="notificationTitle" class="font-medium text-gray-900"></div>
                <div id="notificationMessage" class="text-sm text-gray-600 mt-1"></div>
            </div>
            <button id="closeNotification" class="flex-shrink-0 ml-2 text-gray-400 hover:text-gray-600">&times;</button>
        </div>
    </div>

    <script>
        // Application State
        let currentUser = null;
        let currentJob = null;
        let currentApplication = null;
        let interviewQuestions = [];
        let currentQuestionIndex = 0;
        let interviewTimer = null;
        let recordingStream = null;
        let isRecording = false;

        // Sample job data
        const sampleJobs = [
            {
                id: 1,
                title: "Senior Frontend Developer",
                company: "TechCorp Inc.",
                location: "San Francisco, CA",
                salary: "$120,000 - $160,000",
                experience: "5+ years",
                type: "Full-time",
                category: "technology",
                description: "We are looking for a Senior Frontend Developer to join our dynamic team. You will be responsible for developing user-facing web applications using modern JavaScript frameworks and ensuring excellent user experience across all platforms.",
                skills: ["React", "JavaScript", "TypeScript", "CSS", "HTML", "Node.js", "Git"],
                requirements: [
                    "5+ years of experience in frontend development",
                    "Strong proficiency in React and modern JavaScript",
                    "Experience with TypeScript and modern build tools",
                    "Knowledge of responsive design and cross-browser compatibility",
                    "Experience with version control systems (Git)"
                ]
            },
            {
                id: 2,
                title: "Digital Marketing Manager",
                company: "Growth Solutions",
                location: "New York, NY",
                salary: "$80,000 - $110,000",
                experience: "3+ years",
                type: "Full-time",
                category: "marketing",
                description: "Join our marketing team as a Digital Marketing Manager. You'll develop and execute comprehensive digital marketing strategies, manage campaigns across multiple channels, and drive customer acquisition and engagement.",
                skills: ["SEO", "SEM", "Social Media", "Analytics", "Content Marketing", "Email Marketing"],
                requirements: [
                    "3+ years of digital marketing experience",
                    "Proven track record in campaign management",
                    "Strong analytical and data-driven mindset",
                    "Experience with marketing automation tools",
                    "Excellent communication and project management skills"
                ]
            },
            {
                id: 3,
                title: "UX/UI Designer",
                company: "Design Studio Pro",
                location: "Austin, TX",
                salary: "$70,000 - $95,000",
                experience: "2+ years",
                type: "Full-time",
                category: "design",
                description: "We're seeking a talented UX/UI Designer to create intuitive and visually appealing user interfaces. You'll work closely with product managers and developers to design user-centered solutions that enhance user experience.",
                skills: ["Figma", "Sketch", "Adobe Creative Suite", "Prototyping", "User Research", "Wireframing"],
                requirements: [
                    "2+ years of UX/UI design experience",
                    "Proficiency in design tools (Figma, Sketch, Adobe)",
                    "Strong portfolio demonstrating design process",
                    "Understanding of user-centered design principles",
                    "Experience with prototyping and user testing"
                ]
            }
        ];

        // Sample interview questions
        const interviewQuestionBank = {
            general: [
                "Tell me about yourself and your background.",
                "Why are you interested in this position?",
                "What are your greatest strengths?",
                "Describe a challenging situation you faced and how you handled it.",
                "Where do you see yourself in 5 years?",
                "Why are you leaving your current position?",
                "What motivates you in your work?",
                "How do you handle stress and pressure?",
                "What questions do you have for us?"
            ],
            technical: [
                "Explain your experience with the technologies mentioned in the job description.",
                "Describe a complex project you worked on recently.",
                "How do you stay updated with the latest industry trends?",
                "Walk me through your problem-solving process.",
                "What tools and methodologies do you prefer to use?",
                "Describe a time when you had to learn a new technology quickly.",
                "How do you ensure code quality in your projects?",
                "What's your experience with version control systems?"
            ],
            behavioral: [
                "Tell me about a time you worked in a team.",
                "Describe a situation where you had to meet a tight deadline.",
                "How do you handle constructive criticism?",
                "Tell me about a time you made a mistake and how you handled it.",
                "Describe a situation where you had to adapt to change.",
                "How do you prioritize your tasks when you have multiple deadlines?",
                "Tell me about a time you went above and beyond.",
                "Describe a conflict you had with a colleague and how you resolved it."
            ]
        };

        // Utility Functions
        function showNotification(title, message, type = 'info') {
            const notification = document.getElementById('notification');
            const icon = document.getElementById('notificationIcon');
            const titleEl = document.getElementById('notificationTitle');
            const messageEl = document.getElementById('notificationMessage');

            const icons = {
                success: '‚úÖ',
                error: '‚ùå',
                warning: '‚ö†Ô∏è',
                info: '‚ÑπÔ∏è'
            };

            icon.textContent = icons[type] || icons.info;
            titleEl.textContent = title;
            messageEl.textContent = message;

            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        function showPage(pageId) {
            // Hide all pages
            const pages = ['landingPage', 'authPage', 'jobsPage', 'applicationPage', 'schedulePage', 'interviewPage', 'resultsPage'];
            pages.forEach(page => {
                document.getElementById(page).classList.add('hidden');
            });

            // Show requested page
            document.getElementById(pageId).classList.remove('hidden');
            document.getElementById(pageId).classList.add('fade-in');
        }

        function updateAuthUI() {
            const loginBtn = document.getElementById('loginBtn');
            const signupBtn = document.getElementById('signupBtn');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');

            if (currentUser) {
                loginBtn.classList.add('hidden');
                signupBtn.classList.add('hidden');
                userMenu.classList.remove('hidden');
                userName.textContent = currentUser.firstName + ' ' + currentUser.lastName;
            } else {
                loginBtn.classList.remove('hidden');
                signupBtn.classList.remove('hidden');
                userMenu.classList.add('hidden');
            }
        }

        function populateJobsList(jobs = sampleJobs) {
            const jobsList = document.getElementById('jobsList');
            jobsList.innerHTML = '';

            jobs.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'bg-white rounded-xl shadow-lg p-6 card-hover cursor-pointer';
                jobCard.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-bold text-gray-900 mb-2">${job.title}</h3>
                            <p class="text-gray-600 mb-1">${job.company}</p>
                            <p class="text-gray-500 text-sm">${job.location}</p>
                        </div>
                        <span class="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium">${job.type}</span>
                    </div>
                    <div class="mb-4">
                        <p class="text-gray-700 text-sm line-clamp-3">${job.description.substring(0, 150)}...</p>
                    </div>
                    <div class="flex justify-between items-center">
                        <div class="text-indigo-600 font-bold">${job.salary}</div>
                        <div class="flex space-x-2">
                            ${job.skills.slice(0, 3).map(skill => 
                                `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs">${skill}</span>`
                            ).join('')}
                            ${job.skills.length > 3 ? `<span class="text-gray-500 text-xs">+${job.skills.length - 3} more</span>` : ''}
                        </div>
                    </div>
                `;

                jobCard.addEventListener('click', () => showJobDetails(job));
                jobsList.appendChild(jobCard);
            });
        }

        function showJobDetails(job) {
            currentJob = job;
            const modal = document.getElementById('jobDetailsModal');
            
            document.getElementById('jobTitle').textContent = job.title;
            document.getElementById('jobCompany').textContent = job.company;
            document.getElementById('jobLocation').textContent = job.location;
            document.getElementById('jobSalary').textContent = job.salary;
            document.getElementById('jobExperience').textContent = job.experience;
            document.getElementById('jobType').textContent = job.type;
            document.getElementById('jobDescription').textContent = job.description;
            
            const skillsContainer = document.getElementById('jobSkills');
            skillsContainer.innerHTML = '';
            job.skills.forEach(skill => {
                const skillTag = document.createElement('span');
                skillTag.className = 'bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium';
                skillTag.textContent = skill;
                skillsContainer.appendChild(skillTag);
            });

            modal.classList.remove('hidden');
        }

        function generateInterviewQuestions(focus, count) {
            let questions = [];
            
            switch(focus) {
                case 'technical':
                    questions = [...interviewQuestionBank.technical, ...interviewQuestionBank.general];
                    break;
                case 'behavioral':
                    questions = [...interviewQuestionBank.behavioral, ...interviewQuestionBank.general];
                    break;
                case 'general':
                    questions = interviewQuestionBank.general;
                    break;
                case 'mixed':
                default:
                    questions = [
                        ...interviewQuestionBank.general.slice(0, Math.ceil(count * 0.4)),
                        ...interviewQuestionBank.technical.slice(0, Math.ceil(count * 0.3)),
                        ...interviewQuestionBank.behavioral.slice(0, Math.ceil(count * 0.3))
                    ];
                    break;
            }

            // Shuffle and return requested number of questions
            return questions.sort(() => 0.5 - Math.random()).slice(0, count);
        }

        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: true, 
                    audio: true 
                });
                const video = document.getElementById('userVideo');
                video.srcObject = stream;
                recordingStream = stream;
                return true;
            } catch (error) {
                showNotification('Camera Error', 'Unable to access camera and microphone. Please check permissions.', 'error');
                return false;
            }
        }

        function updateInterviewProgress() {
            const progress = ((currentQuestionIndex + 1) / interviewQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('questionProgress').textContent = `${currentQuestionIndex + 1} / ${interviewQuestions.length}`;
        }

        function startQuestionTimer() {
            let timeLeft = 120; // 2 minutes per question
            const timerDisplay = document.getElementById('timeRemaining');
            
            interviewTimer = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 30) {
                    timerDisplay.className = 'text-xl font-bold text-red-400';
                } else if (timeLeft <= 60) {
                    timerDisplay.className = 'text-xl font-bold text-yellow-400';
                } else {
                    timerDisplay.className = 'text-xl font-bold text-green-400';
                }
                
                timeLeft--;
                
                if (timeLeft < 0) {
                    clearInterval(interviewTimer);
                    // Auto-advance to next question
                    nextInterviewQuestion();
                }
            }, 1000);
        }

        function nextInterviewQuestion() {
            clearInterval(interviewTimer);
            
            if (currentQuestionIndex < interviewQuestions.length - 1) {
                currentQuestionIndex++;
                document.getElementById('currentQuestion').textContent = interviewQuestions[currentQuestionIndex];
                updateInterviewProgress();
                startQuestionTimer();
                
                // Reset recording state
                document.getElementById('startRecording').classList.remove('hidden');
                document.getElementById('stopRecording').classList.add('hidden');
                document.getElementById('nextQuestion').classList.add('hidden');
                document.getElementById('recordingIndicator').classList.add('hidden');
                document.getElementById('recordingStatus').textContent = "Click 'Start Answer' when ready to respond";
                isRecording = false;
            } else {
                // Interview complete
                completeInterview();
            }
        }

        function completeInterview() {
            clearInterval(interviewTimer);
            if (recordingStream) {
                recordingStream.getTracks().forEach(track => track.stop());
            }
            
            showNotification('Interview Complete!', 'Analyzing your responses...', 'success');
            
            // Simulate analysis delay
            setTimeout(() => {
                showPage('resultsPage');
            }, 2000);
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation
            document.getElementById('loginBtn').addEventListener('click', () => {
                showPage('authPage');
                document.getElementById('loginForm').classList.remove('hidden');
                document.getElementById('signupForm').classList.add('hidden');
            });

            document.getElementById('signupBtn').addEventListener('click', () => {
                showPage('authPage');
                document.getElementById('signupForm').classList.remove('hidden');
                document.getElementById('loginForm').classList.add('hidden');
            });

            document.getElementById('getStartedBtn').addEventListener('click', () => {
                showPage('authPage');
                document.getElementById('signupForm').classList.remove('hidden');
                document.getElementById('loginForm').classList.add('hidden');
            });

            // Auth form switching
            document.getElementById('switchToSignup').addEventListener('click', () => {
                document.getElementById('loginForm').classList.add('hidden');
                document.getElementById('signupForm').classList.remove('hidden');
            });

            document.getElementById('switchToLogin').addEventListener('click', () => {
                document.getElementById('signupForm').classList.add('hidden');
                document.getElementById('loginForm').classList.remove('hidden');
            });

            // Login form
            document.getElementById('loginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;

                // Simulate login
                currentUser = {
                    id: 1,
                    email: email,
                    firstName: 'John',
                    lastName: 'Doe',
                    phone: '+1 (555) 123-4567'
                };

                updateAuthUI();
                showPage('jobsPage');
                populateJobsList();
                showNotification('Welcome back!', 'Successfully logged in', 'success');
            });

            // Signup form
            document.getElementById('signupForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const firstName = document.getElementById('signupFirstName').value;
                const lastName = document.getElementById('signupLastName').value;
                const email = document.getElementById('signupEmail').value;
                const phone = document.getElementById('signupPhone').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('signupConfirmPassword').value;

                if (password !== confirmPassword) {
                    showNotification('Password Mismatch', 'Passwords do not match', 'error');
                    return;
                }

                // Simulate signup
                currentUser = {
                    id: 1,
                    firstName: firstName,
                    lastName: lastName,
                    email: email,
                    phone: phone
                };

                updateAuthUI();
                showPage('jobsPage');
                populateJobsList();
                showNotification('Account Created!', 'Welcome to AI Interview Pro', 'success');
            });

            // Logout
            document.getElementById('logoutBtn').addEventListener('click', () => {
                currentUser = null;
                updateAuthUI();
                showPage('landingPage');
                showNotification('Logged Out', 'See you next time!', 'info');
            });

            // Job search and filter
            document.getElementById('jobSearch').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const filteredJobs = sampleJobs.filter(job => 
                    job.title.toLowerCase().includes(searchTerm) ||
                    job.company.toLowerCase().includes(searchTerm) ||
                    job.skills.some(skill => skill.toLowerCase().includes(searchTerm))
                );
                populateJobsList(filteredJobs);
            });

            document.getElementById('jobFilter').addEventListener('change', (e) => {
                const category = e.target.value;
                const filteredJobs = category ? sampleJobs.filter(job => job.category === category) : sampleJobs;
                populateJobsList(filteredJobs);
            });

            // Job details modal
            document.getElementById('closeJobModal').addEventListener('click', () => {
                document.getElementById('jobDetailsModal').classList.add('hidden');
            });

            document.getElementById('applyJobBtn').addEventListener('click', () => {
                if (!currentUser) {
                    showNotification('Login Required', 'Please login to apply for jobs', 'warning');
                    return;
                }
                
                document.getElementById('jobDetailsModal').classList.add('hidden');
                showPage('applicationPage');
                
                // Populate selected job info
                const selectedJobInfo = document.getElementById('selectedJobInfo');
                selectedJobInfo.innerHTML = `
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Applying for: ${currentJob.title}</h3>
                    <p class="text-gray-600">${currentJob.company} ‚Ä¢ ${currentJob.location}</p>
                    <p class="text-indigo-600 font-medium">${currentJob.salary}</p>
                `;

                // Pre-fill form with user data
                if (currentUser) {
                    document.getElementById('appFirstName').value = currentUser.firstName;
                    document.getElementById('appLastName').value = currentUser.lastName;
                    document.getElementById('appEmail').value = currentUser.email;
                    document.getElementById('appPhone').value = currentUser.phone;
                }
            });

            // Resume upload
            document.getElementById('uploadArea').addEventListener('click', () => {
                document.getElementById('resumeUpload').click();
            });

            document.getElementById('resumeUpload').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    if (file.size > 5 * 1024 * 1024) { // 5MB limit
                        showNotification('File Too Large', 'Please select a file smaller than 5MB', 'error');
                        return;
                    }

                    document.getElementById('uploadArea').classList.add('hidden');
                    document.getElementById('uploadedFile').classList.remove('hidden');
                    document.getElementById('fileName').textContent = file.name;
                }
            });

            document.getElementById('removeFile').addEventListener('click', () => {
                document.getElementById('resumeUpload').value = '';
                document.getElementById('uploadArea').classList.remove('hidden');
                document.getElementById('uploadedFile').classList.add('hidden');
            });

            // Application form
            document.getElementById('backToJobs').addEventListener('click', () => {
                showPage('jobsPage');
            });

            document.getElementById('applicationForm').addEventListener('submit', (e) => {
                e.preventDefault();
                
                const resumeFile = document.getElementById('resumeUpload').files[0];
                if (!resumeFile) {
                    showNotification('Resume Required', 'Please upload your resume', 'error');
                    return;
                }

                // Simulate application submission
                currentApplication = {
                    id: Date.now(),
                    jobId: currentJob.id,
                    jobTitle: currentJob.title,
                    company: currentJob.company,
                    applicantName: document.getElementById('appFirstName').value + ' ' + document.getElementById('appLastName').value,
                    email: document.getElementById('appEmail').value,
                    phone: document.getElementById('appPhone').value,
                    resume: resumeFile.name,
                    coverLetter: document.getElementById('coverLetter').value,
                    status: 'submitted',
                    submittedAt: new Date()
                };

                showNotification('Application Submitted!', 'We will send you a WhatsApp message shortly', 'success');
                
                // Simulate WhatsApp notification
                setTimeout(() => {
                    showNotification('WhatsApp Sent', 'Application confirmation sent to your WhatsApp', 'info');
                }, 2000);

                showPage('schedulePage');
            });

            // Interview scheduling
            document.getElementById('backToApplication').addEventListener('click', () => {
                showPage('applicationPage');
            });

            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('interviewDate').min = today;

            document.getElementById('scheduleInterview').addEventListener('click', () => {
                const date = document.getElementById('interviewDate').value;
                const time = document.getElementById('interviewTime').value;
                const questionCount = parseInt(document.getElementById('questionCount').value);
                const focus = document.getElementById('interviewFocus').value;

                if (!date || !time) {
                    showNotification('Missing Information', 'Please select both date and time', 'error');
                    return;
                }

                // Generate interview questions
                interviewQuestions = generateInterviewQuestions(focus, questionCount);
                currentQuestionIndex = 0;

                showNotification('Interview Scheduled!', 'WhatsApp reminder will be sent 30 minutes before', 'success');
                
                // Simulate WhatsApp reminder
                setTimeout(() => {
                    showNotification('WhatsApp Reminder', 'Interview reminder sent to your WhatsApp', 'info');
                }, 3000);

                // Start interview immediately for demo
                setTimeout(() => {
                    showPage('interviewPage');
                    startInterview();
                }, 5000);
            });

            // Interview controls
            document.getElementById('startRecording').addEventListener('click', async () => {
                if (!recordingStream) {
                    const cameraStarted = await startCamera();
                    if (!cameraStarted) return;
                }

                isRecording = true;
                document.getElementById('startRecording').classList.add('hidden');
                document.getElementById('stopRecording').classList.remove('hidden');
                document.getElementById('recordingIndicator').classList.remove('hidden');
                document.getElementById('recordingStatus').textContent = "Recording your answer...";
            });

            document.getElementById('stopRecording').addEventListener('click', () => {
                isRecording = false;
                document.getElementById('stopRecording').classList.add('hidden');
                document.getElementById('nextQuestion').classList.remove('hidden');
                document.getElementById('recordingIndicator').classList.add('hidden');
                document.getElementById('recordingStatus').textContent = "Answer recorded. Click 'Next Question' to continue.";
            });

            document.getElementById('nextQuestion').addEventListener('click', () => {
                nextInterviewQuestion();
            });

            document.getElementById('endInterview').addEventListener('click', () => {
                if (confirm('Are you sure you want to end the interview? Your progress will be saved.')) {
                    completeInterview();
                }
            });

            // Results page actions
            document.getElementById('downloadReport').addEventListener('click', () => {
                showNotification('Download Started', 'Your interview report is being prepared', 'info');
                // Simulate download
                setTimeout(() => {
                    const link = document.createElement('a');
                    link.href = 'data:text/plain;charset=utf-8,Interview Report - AI Interview Pro\n\nOverall Score: 85%\n\nStrengths:\n- Clear Communication\n- Relevant Experience\n- Professional Demeanor\n\nAreas for Improvement:\n- Answer Structure\n- Technical Details\n- Question Preparation';
                    link.download = 'interview-report.txt';
                    link.click();
                }, 1000);
            });

            document.getElementById('shareResults').addEventListener('click', () => {
                const message = encodeURIComponent('I just completed an AI interview and scored 85%! Check out AI Interview Pro to practice your interview skills.');
                window.open(`https://wa.me/?text=${message}`, '_blank');
            });

            // Notification close
            document.getElementById('closeNotification').addEventListener('click', () => {
                document.getElementById('notification').classList.remove('show');
            });

            // Navigation links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const text = e.target.textContent;
                    
                    if (text === 'Home') {
                        showPage('landingPage');
                    } else if (text === 'Jobs') {
                        if (!currentUser) {
                            showNotification('Login Required', 'Please login to browse jobs', 'warning');
                            return;
                        }
                        showPage('jobsPage');
                        populateJobsList();
                    } else if (text === 'My Applications' || text === 'Dashboard') {
                        if (!currentUser) {
                            showNotification('Login Required', 'Please login to view your dashboard', 'warning');
                            return;
                        }
                        showNotification('Coming Soon', 'This feature will be available soon', 'info');
                    }
                });
            });

            // Initialize
            updateAuthUI();
        });

        // Start interview function
        async function startInterview() {
            const cameraStarted = await startCamera();
            if (!cameraStarted) return;

            document.getElementById('currentQuestion').textContent = interviewQuestions[0];
            updateInterviewProgress();
            startQuestionTimer();
            
            showNotification('Interview Started', 'Good luck! Take your time with each answer.', 'success');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9852df26a59f3f90',t:'MTc1ODg5MDg2Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
